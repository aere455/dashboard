<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ±</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/locale/ar.js"></script>
    <style>
        :root {
            --primary-light: #e0e5ec;
            --secondary-light: #ffffff;
            --accent-light: #4a90e2;
            --text-light: #333333;
            --primary-dark: #2d3748;
            --secondary-dark: #1a202c;
            --accent-dark: #63b3ed;
            --text-dark: #e2e8f0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background-color: var(--primary-light);
            color: var(--text-light);
            transition: background-color 0.3s, color 0.3s;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background-image: url('https://picsum.photos/3000/2000?random=1');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .container {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 800px;
            box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.1), -10px -10px 20px rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: var(--accent-light);
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .search-container {
            display: flex;
            margin-bottom: 20px;
        }

        #city-input {
            flex-grow: 1;
            padding: 10px;
            border: none;
            border-radius: 10px;
            background-color: var(--primary-light);
            color: var(--text-light);
            font-size: 16px;
            outline: none;
            box-shadow: inset 5px 5px 10px rgba(0, 0, 0, 0.1), inset -5px -5px 10px rgba(255, 255, 255, 0.5);
        }

        #search-btn {
            padding: 10px 20px;
            margin-right: 10px;
            border: none;
            border-radius: 10px;
            background-color: var(--accent-light);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1), -5px -5px 10px rgba(255, 255, 255, 0.5);
        }

        #search-btn:hover {
            background-color: #3a7bc8;
            transform: translateY(-2px);
        }

        .weather-info {
            text-align: center;
            margin-bottom: 20px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.1);
        }

        .temperature {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--accent-light);
        }

        .description, .wind {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .forecast {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .forecast-day {
            text-align: center;
            padding: 15px;
            border-radius: 15px;
            background-color: rgba(255, 255, 255, 0.5);
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            width: 30%;
        }

        .forecast-day:hover {
            transform: translateY(-5px);
            box-shadow: 8px 8px 20px rgba(0, 0, 0, 0.15);
        }

        .dark-mode-toggle {
            position: absolute;
            top: 20px;
            left: 20px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--primary-light);
            transition: .4s;
            border-radius: 34px;
            box-shadow: inset 5px 5px 10px rgba(0, 0, 0, 0.1), inset -5px -5px 10px rgba(255, 255, 255, 0.5);
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: var(--accent-light);
            transition: .4s;
            border-radius: 50%;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1), -2px -2px 5px rgba(255, 255, 255, 0.5);
        }

        input:checked + .slider {
            background-color: var(--primary-dark);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
            background-color: var(--accent-dark);
        }

        .dark-mode {
            background-color: var(--primary-dark);
            color: var(--text-dark);
        }

        .dark-mode .container {
            background-color: rgba(26, 32, 44, 0.8);
            box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.2), -10px -10px 20px rgba(255, 255, 255, 0.1);
        }

        .dark-mode #city-input {
            background-color: var(--primary-dark);
            color: var(--text-dark);
            box-shadow: inset 5px 5px 10px rgba(0, 0, 0, 0.2), inset -5px -5px 10px rgba(255, 255, 255, 0.1);
        }

        .dark-mode #search-btn {
            background-color: var(--accent-dark);
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2), -5px -5px 10px rgba(255, 255, 255, 0.1);
        }

        .dark-mode .forecast-day {
            background-color: rgba(26, 32, 44, 0.5);
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.2);
        }

        .dark-mode h1 {
            color: var(--accent-dark);
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .weather-icon {
            font-size: 48px;
            margin-bottom: 10px;
            animation: float 3s ease-in-out infinite;
        }

        #world-map {
            width: 100%;
            height: 300px;
            margin-top: 30px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.1);
        }

        #temperature-chart {
            width: 100%;
            height: 200px;
            margin-top: 30px;
        }

        .air-quality {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.1);
        }

        .uv-index {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.1);
        }

        .weather-alerts {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.1);
        }

        .sunrise-sunset {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.1);
        }

        .weather-news {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.1);
        }

        .share-button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: var(--accent-light);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .share-button:hover {
            background-color: #3a7bc8;
            transform: translateY(-2px);
        }

        #language-selector {
            margin-top: 20px;
            padding: 10px;
            border-radius: 10px;
            background-color: var(--primary-light);
            color: var(--text-light);
            border: none;
            outline: none;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1), -5px -5px 10px rgba(255, 255, 255, 0.5);
        }

        @media (max-width: 640px) {
            .container {
                padding: 20px;
            }

            .temperature {
                font-size: 36px;
            }

            .description, .wind {
                font-size: 16px;
            }

            .forecast-day {
                padding: 10px;
            }

            #world-map {
                height: 200px;
            }

            #temperature-chart {
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="dark-mode-toggle">
        <label class="switch">
            <input type="checkbox" id="dark-mode-toggle">
            <span class="slider"></span>
        </label>
    </div>
    <div class="container">
        <h1>ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ±</h1>
        <div class="search-container">
            <input type="text" id="city-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©">
            <button id="search-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">
                <i class="fas fa-search"></i> Ø¨Ø­Ø«
            </button>
        </div>
        <div class="weather-info">
            <div class="weather-icon">ğŸŒ¤ï¸</div>
            <div class="temperature">-- Â°C</div>
            <div class="description">--</div>
            <div class="wind">-- ÙƒÙ…/Ø³Ø§Ø¹Ø©</div>
        </div>
        <div class="forecast">
            <div class="forecast-day">
                <div class="font-bold">ØºØ¯Ø§Ù‹</div>
                <div class="weather-icon">ğŸŒ¤ï¸</div>
                <div class="temperature">-- Â°C</div>
                <div class="wind">-- ÙƒÙ…/Ø³Ø§Ø¹Ø©</div>
            </div>
            <div class="forecast-day">
                <div class="font-bold">Ø¨Ø¹Ø¯ ØºØ¯</div>
                <div class="weather-icon">ğŸŒ¤ï¸</div>
                <div class="temperature">-- Â°C</div>
                <div class="wind">-- ÙƒÙ…/Ø³Ø§Ø¹Ø©</div>
            </div>
            <div class="forecast-day">
                <div class="font-bold">Ø¨Ø¹Ø¯ 3 Ø£ÙŠØ§Ù…</div>
                <div class="weather-icon">ğŸŒ¤ï¸</div>
                <div class="temperature">-- Â°C</div>
                <div class="wind">-- ÙƒÙ…/Ø³Ø§Ø¹Ø©</div>
            </div>
        </div>
        <div id="world-map"></div>
        <canvas id="temperature-chart"></canvas>
        <div class="air-quality">
            <h2>Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡</h2>
            <p id="air-quality-value">--</p>
        </div>
        <div class="uv-index">
            <h2>Ù…Ø¤Ø´Ø± Ø§Ù„Ø£Ø´Ø¹Ø© ÙÙˆÙ‚ Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠØ©</h2>
            <p id="uv-index-value">--</p>
        </div>
        <div class="weather-alerts">
            <h2>ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø·Ù‚Ø³</h2>
            <p id="weather-alerts-value">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>
        </div>
        <div class="sunrise-sunset">
            <h2>Ø´Ø±ÙˆÙ‚ ÙˆØºØ±ÙˆØ¨ Ø§Ù„Ø´Ù…Ø³</h2>
            <p id="sunrise-time">Ø´Ø±ÙˆÙ‚ Ø§Ù„Ø´Ù…Ø³: --</p>
            <p id="sunset-time">ØºØ±ÙˆØ¨ Ø§Ù„Ø´Ù…Ø³: --</p>
        </div>
        <div class="weather-news">
            <h2>Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø·Ù‚Ø³</h2>
            <ul id="weather-news-list"></ul>
        </div>
        <button class="share-button" id="share-button">Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
        <select id="language-selector">
            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
            <option value="en">English</option>
            <option value="fr">FranÃ§ais</option>
            <option value="es">EspaÃ±ol</option>
        </select>
    </div>

    <script>
        const cityInput = document.getElementById('city-input');
        const searchBtn = document.getElementById('search-btn');
        const weatherIcon = document.querySelector('.weather-icon');
        const temperature = document.querySelector('.weather-info .temperature');
        const description = document.querySelector('.description');
        const wind = document.querySelector('.wind');
        const forecastDays = document.querySelectorAll('.forecast-day');
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const shareButton = document.getElementById('share-button');
        const languageSelector = document.getElementById('language-selector');

        const weatherIcons = {
            'Partly cloudy': 'ğŸŒ¤ï¸',
            'Sunny': 'â˜€ï¸',
            'Cloudy': 'â˜ï¸',
            'Rainy': 'ğŸŒ§ï¸',
            'Thunderstorm': 'â›ˆï¸',
            'Snowy': 'ğŸŒ¨ï¸'
        };

        let map;
        let chart;

        function initMap() {
            map = L.map('world-map').setView([0, 0], 2);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors'
            }).addTo(map);
        }

        function initChart() {
            const ctx = document.getElementById('temperature-chart').getContext('2d');
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© (Â°C)',
                        data: [],
                        borderColor: 'rgb(75, 192, 192)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: false
                        }
                    }
                }
            });
        }

        searchBtn.addEventListener('click', getWeather);
        cityInput.addEventListener('keyup', (event) => {
            if (event.key === 'Enter') {
                getWeather();
            }
        });

        darkModeToggle.addEventListener('change', () => {
            document.body.classList.toggle('dark-mode');
        });

        shareButton.addEventListener('click', shareWeatherReport);

        languageSelector.addEventListener('change', changeLanguage);

        async function getWeather() {
            const city = cityInput.value;
            if (!city) return;

            try {
                const response = await fetch(`https://goweather.herokuapp.com/weather/${city}`);
                const data = await response.json();

                updateWeatherInfo(data);
                updateForecast(data.forecast);
                updateMap(city);
                updateChart(data);
                updateAirQuality();
                updateUVIndex();
                updateWeatherAlerts();
                updateSunriseSunset();
                updateWeatherNews();
            } catch (error) {
                console.error('Error fetching weather data:', error);
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù‚Ø³. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
            }
        }

        function updateWeatherInfo(data) {
            temperature.textContent = data.temperature;
            description.textContent = data.description;
            wind.textContent = data.wind;
            weatherIcon.textContent = weatherIcons[data.description] || 'ğŸŒˆ';
        }

        function updateForecast(forecast) {
            forecastDays.forEach((day, index) => {
                if (forecast[index]) {
                    day.querySelector('.temperature').textContent = forecast[index].temperature;
                    day.querySelector('.wind').textContent = forecast[index].wind;
                    day.querySelector('.weather-icon').textContent = weatherIcons[forecast[index].description] || 'ğŸŒˆ';
                }
            });
        }

        async function updateMap(city) {
            try {
                const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${city}`);
                const data = await response.json();
                if (data && data.length > 0) {
                    const lat = parseFloat(data[0].lat);
                    const lon = parseFloat(data[0].lon);
                    map.setView([lat, lon], 10);
                    L.marker([lat, lon]).addTo(map)
                        .bindPopup(city)
                        .openPopup();
                }
            } catch (error) {
                console.error('Error updating map:', error);
            }
        }

        function updateChart(data) {
            const temperatures = [parseFloat(data.temperature), ...data.forecast.map(day => parseFloat(day.temperature))];
            const labels = ['Ø§Ù„ÙŠÙˆÙ…', 'ØºØ¯Ø§Ù‹', 'Ø¨Ø¹Ø¯ ØºØ¯', 'Ø¨Ø¹Ø¯ 3 Ø£ÙŠØ§Ù…'];

            chart.data.labels = labels;
            chart.data.datasets[0].data = temperatures;
            chart.update();
        }

        function updateAirQuality() {
            // Simulated air quality data
            const airQualityValue = Math.floor(Math.random() * 100) + 1;
            const airQualityElement = document.getElementById('air-quality-value');
            airQualityElement.textContent = `${airQualityValue} (${getAirQualityDescription(airQualityValue)})`;
        }

        function getAirQualityDescription(value) {
            if (value <= 50) return 'Ø¬ÙŠØ¯';
            if (value <= 100) return 'Ù…Ø¹ØªØ¯Ù„';
            if (value <= 150) return 'ØºÙŠØ± ØµØ­ÙŠ Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©';
            if (value <= 200) return 'ØºÙŠØ± ØµØ­ÙŠ';
            if (value <= 300) return 'ØºÙŠØ± ØµØ­ÙŠ Ø¬Ø¯Ø§Ù‹';
            return 'Ø®Ø·ÙŠØ±';
        }

        function updateUVIndex() {
            // Simulated UV index data
            const uvIndex = Math.floor(Math.random() * 11) + 1;
            const uvIndexElement = document.getElementById('uv-index-value');
            uvIndexElement.textContent = `${uvIndex} (${getUVIndexDescription(uvIndex)})`;
        }

        function getUVIndexDescription(value) {
            if (value <= 2) return 'Ù…Ù†Ø®ÙØ¶';
            if (value <= 5) return 'Ù…Ø¹ØªØ¯Ù„';
            if (value <= 7) return 'Ù…Ø±ØªÙØ¹';
            if (value <= 10) return 'Ù…Ø±ØªÙØ¹ Ø¬Ø¯Ø§Ù‹';
            return 'Ù…ØªØ·Ø±Ù';
        }

        function updateWeatherAlerts() {
            // Simulated weather alerts
            const alerts = ['ØªØ­Ø°ÙŠØ± Ù…Ù† Ø¹ÙˆØ§ØµÙ Ø±Ø¹Ø¯ÙŠØ©', 'ØªÙ†Ø¨ÙŠÙ‡ Ø¨Ø§Ø±ØªÙØ§Ø¹ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±Ø©', 'Ø¥Ù†Ø°Ø§Ø± Ø¨Ù‡Ø·ÙˆÙ„ Ø£Ù…Ø·Ø§Ø± ØºØ²ÙŠØ±Ø©'];
            const randomAlert = alerts[Math.floor(Math.random() * alerts.length)];
            const weatherAlertsElement = document.getElementById('weather-alerts-value');
            weatherAlertsElement.textContent = Math.random() > 0.7 ? randomAlert : 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹';
        }

        function updateSunriseSunset() {
            // Simulated sunrise and sunset times
            const sunriseTime = moment().startOf('day').add(Math.random() * 3 + 5, 'hours').format('HH:mm');
            const sunsetTime = moment().startOf('day').add(Math.random() * 3 + 18, 'hours').format('HH:mm');
            document.getElementById('sunrise-time').textContent = `Ø´Ø±ÙˆÙ‚ Ø§Ù„Ø´Ù…Ø³: ${sunriseTime}`;
            document.getElementById('sunset-time').textContent = `ØºØ±ÙˆØ¨ Ø§Ù„Ø´Ù…Ø³: ${sunsetTime}`;
        }

        function updateWeatherNews() {
            // Simulated weather news
            const news = [
                'ØªÙˆÙ‚Ø¹Ø§Øª Ø¨Ù…ÙˆØ¬Ø© Ø­Ø± Ù‚Ø§Ø¯Ù…Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ù‚Ø¨Ù„',
                'Ø¥Ø¹ØµØ§Ø± ÙŠØªØ´ÙƒÙ„ ÙÙŠ Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ø£Ø·Ù„Ø³ÙŠ',
                'ØªØ­Ø³Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡ ÙÙŠ Ø§Ù„Ù…Ø¯Ù† Ø§Ù„ÙƒØ¨Ø±Ù‰',
                'Ø¹Ù„Ù…Ø§Ø¡ ÙŠØ­Ø°Ø±ÙˆÙ† Ù…Ù† ØªØ£Ø«ÙŠØ±Ø§Øª ØªØºÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø® Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±Ø§Ø¹Ø©'
            ];
            const newsListElement = document.getElementById('weather-news-list');
            newsListElement.innerHTML = '';
            news.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                newsListElement.appendChild(li);
            });
        }

        function shareWeatherReport() {
            const weatherReport = `
                Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ ${cityInput.value}:
                Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©: ${temperature.textContent}
                Ø§Ù„ÙˆØµÙ: ${description.textContent}
                Ø³Ø±Ø¹Ø© Ø§Ù„Ø±ÙŠØ§Ø­: ${wind.textContent}
            `;
            if (navigator.share) {
                navigator.share({
                    title: 'ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø·Ù‚Ø³',
                    text: weatherReport,
                })
                .then(() => console.log('ØªÙ…Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­'))
                .catch((error) => console.log('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©', error));
            } else {
                alert('Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­');
            }
        }

        function changeLanguage() {
            const selectedLanguage = languageSelector.value;
            // Here you would implement the logic to change the language of the app
            console.log(`ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ© Ø¥Ù„Ù‰: ${selectedLanguage}`);
            // For a full implementation, you'd need to use a translation library or service
        }

        // Initial setup
        initMap();
        initChart();

        // Initial weather data for Curitiba
        fetch('https://goweather.herokuapp.com/weather/Curitiba')
            .then(response => response.json())
            .then(data => {
                updateWeatherInfo(data);
                updateForecast(data.forecast);
                updateMap('Curitiba');
                updateChart(data);
                updateAirQuality();
                updateUVIndex();
                updateWeatherAlerts();
                updateSunriseSunset();
                updateWeatherNews();
            })
            .catch(error => {
                console.error('Error fetching initial weather data:', error);
            });
    </script>
</body>
</html>
